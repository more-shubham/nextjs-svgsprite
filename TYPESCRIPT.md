# TypeScript Support

This package provides full TypeScript support with type-safe icon names and autocomplete suggestions.

## Features

- ✅ **Type-Safe Icon Names**: Get compile-time errors for invalid icon names
- ✅ **Autocomplete/IntelliSense**: Your IDE will suggest available icon names
- ✅ **Strongly Typed Props**: All component props are properly typed
- ✅ **Auto-Generated Types**: Icon types are automatically generated from your SVG files

## Quick Start

### 1. Use TypeScript Files

The Icon component is written in TypeScript and provides full type safety:

```tsx
import Icon from '@/components/Icon';

export default function MyComponent() {
  return (
    <div>
      {/* ✅ Valid - TypeScript knows "home" exists */}
      <Icon name="home" size={24} />

      {/* ❌ TypeScript error - "invalid" icon doesn't exist */}
      <Icon name="invalid" size={24} />
    </div>
  );
}
```

### 2. Autocomplete in Your IDE

When you type `<Icon name="`, your IDE will show all available icon names:

- `home`
- `user`
- `settings`
- `search`

![Autocomplete Example](https://user-images.githubusercontent.com/placeholder/autocomplete-demo.gif)

## Component API

### Icon Component

```tsx
import Icon from '@/components/Icon';

<Icon
  name="home" // Type: IconName (autocompletes to available icons)
  size={24} // Type: number (optional, default: 24)
  color="currentColor" // Type: string (optional, default: currentColor)
  className="" // Type: string (optional)
  style={{}} // Type: CSSProperties (optional)
  // ...any other SVG props
/>;
```

### IconWithLabel Component

```tsx
import { IconWithLabel } from '@/components/Icon';

<IconWithLabel
  name="home" // Type: IconName (autocompletes to available icons)
  label="Home page" // Type: string (optional)
  size={24} // Type: number (optional, default: 24)
  color="currentColor" // Type: string (optional, default: currentColor)
  className="" // Type: string (optional)
  style={{}} // Type: CSSProperties (optional)
  // ...any other SVG props
/>;
```

## Type Definitions

### IconName Type

The `IconName` type is automatically generated from your SVG files:

```typescript
// components/icon-types.ts (auto-generated)
export type IconName = 'home' | 'search' | 'settings' | 'user';
```

### IconProps Interface

```typescript
export interface IconProps extends Omit<SVGProps<SVGSVGElement>, 'name'> {
  /** Name of the icon from the sprite */
  name: IconName;
  /** Size of the icon in pixels (default: 24) */
  size?: number;
  /** Color of the icon (default: currentColor) */
  color?: string;
  /** Additional CSS classes */
  className?: string;
  /** Inline styles */
  style?: CSSProperties;
}
```

## How It Works

### Automatic Type Generation

When you run `npm run build:sprite`, the script:

1. Reads all `.svg` files from `svg-icons/` directory
2. Extracts the icon names (filename without extension)
3. Generates TypeScript types in `components/icon-types.ts`
4. Creates a union type of all available icon names

### Generated Type File

```typescript
// components/icon-types.ts
/**
 * Auto-generated TypeScript types for SVG sprite icons
 * Generated from svg-icons directory
 *
 * DO NOT EDIT THIS FILE MANUALLY - it is auto-generated
 */

export type IconName = 'home' | 'search' | 'settings' | 'user';

export const iconNames = ['home', 'search', 'settings', 'user'] as const;
```

## Adding New Icons

When you add new SVG icons:

1. Place your `.svg` file in the `svg-icons/` directory
2. Run `npm run build:sprite`
3. The types are automatically updated
4. Your IDE will immediately recognize the new icon names

Example:

```bash
# Add a new icon
cp my-new-icon.svg svg-icons/

# Regenerate sprite and types
npm run build:sprite

# Now you can use it with autocomplete
# <Icon name="my-new-icon" />
```

## Working with Generated Types

### Import Icon Names Type

```tsx
import { IconName } from '@/components/icon-types';

// Use as a type annotation
function renderIcon(iconName: IconName) {
  return <Icon name={iconName} size={24} />;
}
```

### Get All Icon Names at Runtime

```tsx
import { iconNames } from '@/components/icon-types';

// Display all available icons
function IconGallery() {
  return (
    <div>
      {iconNames.map((name) => (
        <Icon key={name} name={name} size={32} />
      ))}
    </div>
  );
}
```

### Type Guards

```tsx
import { IconName, iconNames } from '@/components/icon-types';

function isValidIconName(name: string): name is IconName {
  return iconNames.includes(name as IconName);
}

// Usage
const userInput = 'home';
if (isValidIconName(userInput)) {
  return <Icon name={userInput} />; // Type-safe!
}
```

## TypeScript Configuration

### Recommended tsconfig.json

```json
{
  "compilerOptions": {
    "target": "ES2020",
    "lib": ["ES2020", "DOM", "DOM.Iterable"],
    "jsx": "preserve",
    "module": "ESNext",
    "moduleResolution": "bundler",
    "strict": true,
    "skipLibCheck": true,
    "paths": {
      "@/*": ["./*"]
    }
  },
  "include": ["**/*.ts", "**/*.tsx", ".next/types/**/*.ts"],
  "exclude": ["node_modules"]
}
```

## IDE Support

### VS Code

Install the following extensions for the best experience:

- **TypeScript and JavaScript Language Features** (built-in)
- **ESLint** - For code linting
- **Prettier** - For code formatting

VS Code will automatically:

- Show autocomplete for icon names
- Display inline documentation for props
- Highlight TypeScript errors

### WebStorm / IntelliJ IDEA

TypeScript support is built-in. Just ensure:

- TypeScript plugin is enabled
- Project is recognized as a TypeScript project

### Other IDEs

Any IDE with TypeScript language server support will work, including:

- Sublime Text (with LSP plugin)
- Vim/Neovim (with CoC or native LSP)
- Emacs (with tide or eglot)

## Troubleshooting

### Icons not autocompleting

1. **Regenerate types**: Run `npm run build:sprite`
2. **Restart IDE**: Sometimes the IDE needs to reload the type definitions
3. **Check tsconfig**: Ensure `components/icon-types.ts` is included in your `include` pattern

### TypeScript errors after adding icons

1. **Rebuild sprite**: Run `npm run build:sprite` to regenerate types
2. **Check file names**: Icon names must match SVG filenames (without `.svg` extension)
3. **Restart TypeScript server**: In VS Code, use `Ctrl+Shift+P` → "TypeScript: Restart TS Server"

### Import errors

Make sure your paths are configured correctly:

```json
// tsconfig.json
{
  "compilerOptions": {
    "paths": {
      "@/*": ["./*"]
    }
  }
}
```

## Migration from JavaScript

If you're migrating from the JavaScript version:

1. Rename your component files from `.jsx` to `.tsx`
2. Add type annotations to props where needed
3. Run `npm run build:sprite` to generate types
4. Fix any TypeScript errors that appear

Example migration:

```diff
- import Icon from '@/components/Icon';
+ import Icon from '@/components/Icon';

  export default function MyComponent() {
    return (
-     <Icon name="home" size={24} />
+     <Icon name="home" size={24} /> // Now with autocomplete!
    );
  }
```

## Benefits

### Compile-Time Safety

Catch errors before runtime:

```tsx
// ❌ This will fail at compile time
<Icon name="typo-icon" />
// Error: Type '"typo-icon"' is not assignable to type 'IconName'

// ✅ This is type-safe
<Icon name="home" />
```

### Better Developer Experience

- **Autocomplete**: See all available icons as you type
- **Documentation**: Hover over props to see their types and descriptions
- **Refactoring**: Rename icons safely across your entire codebase
- **IntelliSense**: Get instant feedback on prop types

### Maintainability

- **Self-documenting**: Types serve as inline documentation
- **Consistency**: Enforces consistent icon usage across the project
- **Scalability**: Easy to maintain as your icon library grows

## Advanced Usage

### Dynamic Icon Selection with Type Safety

```tsx
import { IconName } from '@/components/icon-types';

interface MenuItem {
  label: string;
  icon: IconName; // Type-safe icon name
}

const menuItems: MenuItem[] = [
  { label: 'Home', icon: 'home' },
  { label: 'Search', icon: 'search' },
  { label: 'Settings', icon: 'settings' },
];

function Menu() {
  return (
    <nav>
      {menuItems.map((item) => (
        <div key={item.label}>
          <Icon name={item.icon} size={20} />
          <span>{item.label}</span>
        </div>
      ))}
    </nav>
  );
}
```

### Conditional Icon Rendering

```tsx
import { IconName } from '@/components/icon-types';

function StatusIcon({ status }: { status: 'active' | 'inactive' }) {
  const iconName: IconName = status === 'active' ? 'home' : 'settings';
  return <Icon name={iconName} />;
}
```

### Custom Hook with Type Safety

```tsx
import { IconName } from '@/components/icon-types';
import { useState } from 'react';

function useIconPicker(defaultIcon: IconName) {
  const [selectedIcon, setSelectedIcon] = useState<IconName>(defaultIcon);

  return {
    selectedIcon,
    setSelectedIcon, // Type-safe setter
  };
}

// Usage
function IconSelector() {
  const { selectedIcon, setSelectedIcon } = useIconPicker('home');

  return (
    <div>
      <Icon name={selectedIcon} size={48} />
      <button onClick={() => setSelectedIcon('search')}>Change Icon</button>
    </div>
  );
}
```

## Examples

See the example application in `app/page.tsx` for a complete TypeScript implementation.

## Support

For TypeScript-specific issues:

1. Check this documentation
2. Ensure you're running the latest version
3. Verify your `tsconfig.json` is properly configured
4. Open an issue on GitHub with:
   - Your TypeScript version
   - Your tsconfig.json
   - The error message you're seeing
